### 자바스크립트와 웹 프런트엔드

인터넷 익스플로러나 크롬과 같은 웹 브라우저는 자바스크립트 코드를 실행시키면서 HTML과 CSS에 변화가 생기면, 브라우저에 다시 해당 내용을 반영하여 렌더링(rendering)합니다. 이로써 사용자는 변화된 내용을 확인할 수 있게 됩니다.

 브라우저는 자바스크립트가 웹 문서 혹은 CSS와 상호 작용을 할 수 있도록 몇 가지 특별한 객체를 제공합니다. 대표적인 객체에는 document와 window가 있습니다. 이렇게 추상화한 형태로 제공되는 연결 고리를 API(Application Programming Interface)라고 부릅니다. 자바스크립트는 API로 제공되는 추상화된 객체를 조작함으로써 웹 브라우저와 상호 작용을 합니다.

 브라우저에서는 window 객체라는 것을 제공하고, 자바스크립트는 window 객체를 통해 각종 HTML 요소나 CSS에 접근하여 구조와 스타일을 조작할 수 있습니다.

  this의 개념을 기억하나요? 객체에 바인드된 메서드로 실행하지 않은 경우에는 this가 window라고 했습니다. 즉, window 객체는 브라우저에서 자바스크립트를 실행할 때 가장 상위에 있는 객체입니다.

  window는 가장 상위에 있는 객체이므로 생략할 수 있습니다. 따라서 a;로 접근하거나 b( );로 호출할 수 있습니다.

  prompt() 명령이나 console() 같은 명령도 window 객체가 제공하는 API입니다. 이 API를 통해 브라우저에서 동작하는 명령을 내릴 수 있습니다.

  • window.location: 현재 브라우저의 주소를 볼 수 있습니다.

• window.location.href: 현재 브라우저의 주소 창에 입력된 주소를 볼 수 있습니다. 이 값을 수정하면 입력된 주소로 페이지가 이동합니다.

• window.navigator: 현재 브라우저에 관한 정보를 볼 수 있습니다.

• window.screen: 현재 디스플레이의 너비와 높이 등을 볼 수 있습니다.

• window.document: 현재 웹 페이지를 구성하는 HTML과 CSS가 모두 저장되어 있습니다. 이 객체를 이용하면 HTML과 CSS에 접근할 수 있습니다.

CSS는 우선순위가 가장 높은 HTML 태그 안에 정의한 스타일을 가장 먼저 반영하고, 다음으로 스타일 태그 안에 적용한 스타일, 다음으로 링크를 통해 외부 파일에서 불러온 스타일을 반영합니다.

자바스크립트를 사용해서 HTML 문서에 접근할 수 있는 이유는 HTML이 DOM(Document Object Model, 문서 객체 모델)에 따라 기술되고, DOM 인터페이스를 통해 기술된 HTML 엘리먼트가 객체로서 자바스크립트와 연결되기 때문입니다.

DOM이란 Document Object Model의 약자로 간단히 설명하면 컴퓨터가 문서를 잘 처리할 수 있게 ‘문서를 이러이러한 구조로 표현하자’라고 약속한 것입니다. DOM은 트리(Tree) 형태, 즉 나무 구조로 문서를 표현합니다. 트리 형태란 족보나 가계도 모양을 떠올리면 이해하기 쉽습니다. 다음과 같이 노드와 엘리먼트마다 부모가 있고 자식이 여러 개 있는 형태입니다.

 head 태그와 body 태그는 html 태그의 자식(children)이 되고, html 태그는 head 태그와 body 태그의 부모(parent)가 됩니다.

• DOM이란 컴퓨터가 문서를 잘 처리할 수 있도록 문서의 구조를 약속한 것입니다.

• DOM은 트리 형태를 따릅니다(족보나 가계도와 비슷함).

• document 객체는 최상위 객체로 자바스크립트에서 document 명령으로 접근할 수 있습니다.


• document.getElementBy로 시작하는 메서드는 엘리먼트를 한 개만 반환하는 메서드입니다.

• document.getElementsBy로 시작하는 메서드는 엘리먼트를 여러 개 반환하는 메서드입니다.

• document.getElementById 메서드는 HTML 엘리먼트의 id를 인자로 전달하면 해당 엘리먼트를 반환합니다.

• .innerHTML 속성은 엘리먼트 안의 HTML 코드를 변경합니다.

• .innerText 속성은 엘리먼트 안의 텍스트를 변경합니다.

• .style 속성은 CSS를 변경할 수 있습니다.

• getAttribute( ) 메서드는 엘리먼트의 속성 값을 얻어 오며 인자 한 개(속성 이름)를 받습니다. 직접 객체에 동기화되지 않은 속성에도 접근할 수 있습니다.

• setAttribute( ) 메서드 역시 엘리먼트의 속성 값을 얻어 오지만 인자를 두 개(속성 이름과 설정할 속성 값) 받습니다. 마찬가지로 객체에 동기화되지 않은 속성에 대해서도 값을 설정할 수 있습니다.

• getElementsByTagName( ) 메서드는 인자로 HTML 엘리먼트의 태그 이름을 전달하며, 해당 태그의 모든 엘리먼트가 배열로 반환됩니다.

• getElementsByClassName( ) 메서드는 인자로 클래스 이름을 전달하며, 해당 클래스의 모든 엘리먼트가 배열로 반환됩니다.

• getElementsByName( ) 메서드는 인자로 이름을 전달하며, 해당 이름 속성을 가진 모든 엘리먼트가 배열로 반환됩니다.

• input 엘리먼트에 입력된 값을 값 속성으로 얻어 올 수 있습니다(getAttribute( ) 메서드로는 받아 올 수 없습니다).

• 엘리먼트를 추가하는 메서드에는 ceateElement( )와 cloneNode( )가 있습니다.

• 엘리먼트를 배치하는 메서드에는 appendChild( )와 insertBefore( )가 있습니다.

• 엘리먼트를 제거하는 메서드에는 removeChild( )가 있습니다.

• 콜백 함수란 조건을 등록해 두고 그 조건을 만족했을 때 호출되는 함수를 뜻합니다.

• 시간을 기반으로 콜백 함수를 호출하는 명령에는 setTimeout( ), clearTimeout( ), setInterval( ), clearInterval( ) 함수가 있습니다.

• setTimeout( ) 함수는 시간이 흐른 뒤에 함수를 콜백하는 함수입니다. 시간은 밀리초 단위로 입력합니다.

• clearTimeout( ) 함수는 함수를 호출한 결과로 반환된 ID를 인자로 받아 예약되어 있던 함수 호출을 취소합니다.

• setInterval( ) 함수는 정해진 시간이 지날 때마다 함수를 콜백하는 함수입니다.

• clearInterval( ) 함수는 setInterval( ) 함수를 호출한 결과로 반환된 ID를 인자로 받아 주기적으로 호출되던 함수 호출을 취소하는 함수입니다.

• 브라우저에서 발생하는 이벤트 종류에는 폼 이벤트, 윈도 이벤트, 마우스 이벤트, 키 이벤트 등이 있습니다.

• click 이벤트는 마우스 이벤트로 HTML 엘리먼트를 마우스로 클릭했을 때 발생합니다.

• keydown 이벤트는 키 이벤트로 키보드의 키가 눌렸을 때 발생합니다.

• change 이벤트는 폼 이벤트로 form 엘리먼트의 내용이 변경되었을 때 발생합니다.

```javascript
 function b( ) {
        console.log("from addEventListener");
        return false;
    }
    t.addEventListener("submit", b);
```


바스크립트를 이용해 HTTP 요청(request)을 보낼 수 있는 Ajax에 대해 알아보겠습니다.

Ajax는 Asynchronous Javascript and XML(비동기 자바스크립트와 XML)의 약자로 브라우저에서 페이지를 이동하지 않고 자바스크립트를 통해 HTTP 요청을 보낸 후 그 응답을 받아 처리할 수 있는 기술입니다.

Ajax를 활용하면 페이지를 이동하지 않고도 서버에서 새로운 정보를 받아 오거나 브라우저의 데이터를 서버로 전달할 수 있어 사용자에게 더 나은 사용 경험을 제공합니다. 이러한 이유로 대부분의 웹 사이트에서는 Ajax를 사용합니다.

new 키워드는 새로운 객체를 만드는 키워드입니다. 이 구문을 실행하면 HTTP request를 보낼 수 있는 새로운 객체가 만들어지고 그 객체가 request 변수에 저장됩니다.

2 open() 메서드를 호출해서 요청을 어떤 서버로 보낼지 설정합니다. 이 메서드는 인자를 두 개 받습니다. 첫 번째 인자는 GET이나 POST와 같은 HTTP request method고, 두 번째 인자는 얻어올 리소스 또는 URL입니다. 여기서는 같은 디렉터리에 있는 data.txt 파일을 얻어 오겠습니다.

3 send() 메서드를 호출하여 HTTP 요청을 전송합니다.

Ajax라는 이름에서 알 수 있듯이 해당 요청은 비동기로 요청되고 이후 자바스크립트 코드가 실행됩니다. 따라서 다음과 같이 HTML 파일에 console.log() 명령을 입력해도 브라우저에는 아무런 메시지가 출력되지 않습니다. 나중에 접근했을 때만 개발자 도구에서 hello AJAX라는 메시지가 나타납니다.

• 200: Okay, 클라이언트의 요청이 올바르게 처리되어 정상으로 응답했을 때

• 403: Forbidden, 클라이언트의 요청이 권한 문제로 인해 거절되었을 때

• 404: Not found, 클라이언트가 요청한 자료가 서버에 없을 때

• 500: Internal Server Error, 기타 이유로 서버에서 오류가 발생해 정상으로 응답할 수 없을 때

